/**
 * power-assert - Empower your assertions
 *
 * https://github.com/twada/power-assert
 *
 * Copyright (c) 2013-2014 Takuto Wada
 * Licensed under the MIT license.
 *   https://raw.github.com/twada/power-assert/master/MIT-LICENSE.txt
 */
var esprima = require('esprima'),
    argv = require('optimist').argv,
    fs = require('fs'),
    options = {},
    file = argv._[0];

var extractExpressionFrom = function (string) {
    //var tree = esprima.parse(string, {tolerant: true, loc: true}),
    var tree = esprima.parse(string, {tolerant: true}),
        expressionStatement = tree.body[0],
        expression = expressionStatement.expression;
//    return expression;
    return expressionStatement;
};

var input, tree, options;

//options = {tolerant: true, loc: true, range: true};
options = {tolerant: true};
input = fs.readFileSync(file, 'utf-8');
//tree = esprima.parse(input, options);
tree = extractExpressionFrom(input);
console.log(JSON.stringify(tree, null, 4));
